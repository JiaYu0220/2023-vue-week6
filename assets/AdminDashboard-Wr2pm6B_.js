import{_ as m,c as f,a as r,b as c,w as a,d as e,i as k,p as w,h as $,r as u,o as h}from"./index-rQ1ecwA4.js";var V={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"jiayu",BASE_URL:"/2023-vue-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:l}=V,R={data(){return{checkSuccess:!1}},mounted(){var o;const t=(o=document.cookie.split("; ").find(n=>n.startsWith("token=")))==null?void 0:o.split("=")[1];this.$http.defaults.headers.common.Authorization=t,this.checkout()},methods:{async checkout(){try{const t=`${l}/api/user/check`;await this.$http.post(t),this.checkSuccess=!0}catch{this.$swal("請再登入一次"),this.$router.push("/login")}},async logout(){try{const t=`${l}/logout`;await this.$http.post(t),this.$swal("登出成功"),this.$router.push("/login")}catch{this.$swal("登出失敗，請在試一次")}}}},v={class:"container"},y=r("h1",null,"這是後台頁面",-1);function E(t,o,n,g,d,i){const s=u("RouterLink"),p=u("RouterView");return h(),f("div",v,[y,r("nav",null,[c(s,{to:"/"},{default:a(()=>[e("回到前台")]),_:1}),e(" | "),c(s,{to:"/admin/products"},{default:a(()=>[e("產品管理")]),_:1}),e(" | "),c(s,{to:"/admin/orders"},{default:a(()=>[e("訂單管理")]),_:1}),e(" | "),r("a",{href:"#",onClick:o[0]||(o[0]=k((..._)=>i.logout&&i.logout(..._),["prevent"]))},"登出")]),d.checkSuccess?(h(),w(p,{key:0})):$("",!0)])}const S=m(R,[["render",E]]);export{S as default};
