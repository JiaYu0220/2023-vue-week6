import{_,m as d,e as h,c as n,a as o,t as s,F as l,g as m,v as g,f as v,b as f,w as y,r as L,o as c,d as S}from"./index-rQ1ecwA4.js";import{c as w}from"./cartStore-TSL6et-M.js";import{L as V,l as p}from"./alertStore-FvkRcQaP.js";var E={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"jiayu",BASE_URL:"/2023-vue-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:k,VITE_PATH:B}=E,T={data(){return{product:{},quantity:1}},mounted(){this.getProduct()},methods:{async getProduct(){try{this.showLoading();const{id:e}=this.$route.params,i=`${k}/api/${B}/product/${e}`,a=await this.$http.get(i);this.product=a.data.product}catch(e){this.$swal(e.data.message||"發生錯誤")}finally{this.hideLoading()}},...d(w,["postCart"]),...d(p,["showLoading","hideLoading"])},computed:{...h(p,["loadingStatus"])},components:{LoadingButton:V}},P={class:"row"},U={class:"col-sm-6"},q=["src"],x={class:"col-sm-6"},C={class:"badge bg-primary rounded-pill"},D={key:0,class:"h5"},I={class:"h6"},R={class:"h5"},b={class:"input-group"},A=["value"];function N(e,i,a,F,t,H){const u=L("LoadingButton");return c(),n("div",P,[o("div",U,[o("img",{class:"img-fluid",src:t.product.imageUrl,alt:"產品圖",style:{height:"500px"}},null,8,q)]),o("div",x,[o("span",C,s(t.product.category),1),o("p",null,"商品描述："+s(t.product.description),1),o("p",null,"商品內容："+s(t.product.content),1),t.product.price===t.product.origin_price?(c(),n("div",D,s(t.product.price)+" 元 ",1)):(c(),n(l,{key:1},[o("del",I,"原價 "+s(t.product.origin_price)+" 元",1),o("div",R,"現在只要 "+s(t.product.price)+" 元",1)],64)),o("div",null,[o("div",b,[m(o("select",{class:"form-select","onUpdate:modelValue":i[0]||(i[0]=r=>t.quantity=r)},[(c(),n(l,null,v(20,r=>o("option",{key:`qty${r}`,value:r},s(r),9,A)),64))],512),[[g,t.quantity]]),f(u,{class:"btn-primary","loading-status":e.loadingStatus.productId===t.product.id,onClick:i[1]||(i[1]=r=>e.postCart(t.product.id,t.quantity))},{default:y(()=>[S(" 加入購物車 ")]),_:1},8,["loading-status"])])])])])}const z=_(T,[["render",N]]);export{z as default};
